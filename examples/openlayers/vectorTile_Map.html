<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <script src="../../dist/ol/include-ol.js"></script>
    <script type="text/javascript" include="echarts" src="../js/include-web.js"></script>
    <script type="text/javascript" include="jquery,papaparse,widgets" src="../js/include-web.js"></script>
    <script src="../../examples/js/common.js"></script>
    <title>Vector Tile Layer</title>
    <style>
        .map {
            width: 100%;
            height: calc(100vh - 20px);
        }
        
        body {
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div style="width: 100%;">
        <div id="divMapId" class="map">
        </div>
    </div>
    <script>
        var map = new ol.Map({
            target: 'divMapId',
            controls: ol.control.defaults({
                zoom: true
            }),
            view: new ol.View({
                center: [11579858.869040623, 2415212.099922052],
                zoom: 9,
                // projection: 'EPSG:4326'
            })
        });

        //mapbox://styles/mapbox/streets-v11

        // var layer = new ol.layer.MapboxVector({
        //     styleUrl: 'https://viegisserver.ekgis.vn/gserver/rest/services/114/VectorTileServer/resources/styles?token=1-70EXlhFRzL5KI2qc98B0mQawwKHTAD3x',
        //     accessToken: 'pk.eyJ1IjoiZWtnaXMiLCJhIjoiY2tnenZ5NDN6MDl6ZDJ4c2lkZzBjZHpuZyJ9.d1wSWx_jMWjNTbbbhS6iMg'
        // })

        // map.addLayer(layer)

        // var vnMap = new ol.ekmap.TiledVietNamMapLayer({
        //     token: tokenVN
        // }).addTo(map)

        var vectorTile = new ol.ekmap.VectorTiledMapLayer({
                url: 'https://viegisserver.ekgis.vn/gserver/rest/services/114/VectorTileServer',
                token: tokenKey
            }).addTo(map)
            // map.addLayer(new ol.layer.VectorTile({
            //     declutter: true,
            //     source: new ol.source.VectorTile({
            //         // projection: ol.proj.get("EPSG:4326"),
            //         maxZoom: 15,
            //         format: new ol.format.MVT({
            //             idProperty: 'iso_a3',
            //         }),
            //         url: 'https://viegisserver.ekgis.vn/gserver/rest/services/114/VectorTileServer/tile/{z}/{y}/{x}.pbf?token=1-70EXlhFRzL5KI2qc98B0mQawwKHTAD3x',
            //     }),
            //     style: new ol.style.Style({
            //         stroke: new ol.style.Stroke({
            //             color: 'gray',
            //             width: 1,
            //         }),
            //         fill: new ol.style.Fill({
            //             color: 'rgba(20,20,20,0.9)',
            //         }),
            //         image: new ol.style.Circle({
            //             fill: new ol.style.Fill({
            //                 color: '#B42222'
            //             }),
            //             stroke: new ol.style.Stroke({
            //                 color: 'yellow',
            //                 width: 3
            //             }),
            //             radius: 7
            //         })
            //     })
            // }))
    </script>
</body>

</html>